<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Midan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load styles from /prototype -->
    <link rel="stylesheet" href="/prototype/styles.9d2b.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="container header-inner">
        <div class="brand" role="button" tabindex="0" id="nav-home">
          <span class="brand-logo">⚡</span>
          <div class="brand-text">
            <div class="brand-name">Midan</div>
            <div class="brand-sub">on Sonic SVM</div>
          </div>
        </div>
        <nav class="nav-actions">
          <button id="btn-create-event" class="btn primary">Create Event</button>
          <button id="btn-my-team" class="btn secondary">My Team</button>
          <button id="btn-connect" class="btn outline">Connect Wallet</button>
        </nav>
      </div>
    </header>

    <main class="container" id="app-root" aria-live="polite"></main>

    <footer class="app-footer">
      <div class="container footer-inner">
        <span>Prototype • MVP UX only • No blockchain</span>
      </div>
    </footer>

    <!-- Create Team Modal -->
    <div id="modal-create" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-dialog">
        <div class="modal-header">
          <h3>Create Team</h3>
          <button class="icon-btn" data-close-modal="modal-create" aria-label="Close">✕</button>
        </div>
        <div class="modal-body">
          <form id="form-create-team" autocomplete="off">
            <label class="field">
              <span>Team Name</span>
              <input type="text" id="create-name" placeholder="e.g., Alpha Squad" required maxlength="48" />
            </label>
            <label class="field">
              <span>Description</span>
              <textarea id="create-desc" rows="3" placeholder="What is your team about?" required minlength="10" maxlength="200"></textarea>
              <small class="hint"><span id="desc-count">0</span>/200</small>
            </label>
            <label class="field">
              <span>Privacy</span>
              <div class="segmented">
                <label><input type="radio" name="privacy" value="public" checked /> Public</label>
                <label><input type="radio" name="privacy" value="private" /> Private</label>
              </div>
            </label>
            <label class="field" id="create-code-field" hidden>
              <span>Join Code (8–12 chars)</span>
              <input type="text" id="create-code" minlength="8" maxlength="12" placeholder="Required for Private" />
              <small class="hint">Share this code out-of-band. It will not be included in links.</small>
            </label>
            <label class="field">
              <span>Max Members</span>
              <input type="number" id="create-max" min="3" max="50" value="10" />
            </label>
            <div class="form-note">
              Creating a team makes you the Captain and joins you to the team immediately.
            </div>
            <div class="modal-actions">
              <button type="button" class="btn" data-close-modal="modal-create">Cancel</button>
              <button type="submit" class="btn primary">Create Team</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Create Event Modal -->
    <div id="modal-create-event" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-dialog">
        <div class="modal-header">
          <h3>Create Event</h3>
          <button class="icon-btn" data-close-modal="modal-create-event" aria-label="Close">✕</button>
        </div>
        <div class="modal-body">
          <form id="form-create-event" autocomplete="off">
            <label class="field">
              <span>Event Name</span>
              <input type="text" id="create-evt-name" placeholder="e.g., Sonic Trading Cup" required maxlength="72" />
            </label>
            <label class="field">
              <span>Event Type</span>
              <select id="create-evt-type" required>
                <option value="trade">Trade</option>
                <option value="hackathon">Hackathon</option>
                <option value="official">Official</option>
                <option value="alpha">Alpha Finding</option>
                <option value="launchpad">Launchpad</option>
                <option value="quest">Quest</option>
              </select>
            </label>
            <label class="field">
              <span>About (Subtitle)</span>
              <textarea id="create-evt-sub" rows="3" placeholder="One sentence intro for the event" required minlength="10" maxlength="200"></textarea>
            </label>
            <label class="field">
              <span>Banner (Upload)</span>
              <input type="file" id="create-evt-banner" accept="image/*" />
              <small class="hint">Optional. Upload an image; a preview will be used on the event card.</small>
            </label>
            <div class="field">
              <span>Team Capacity</span>
              <div class="segmented">
                <label><input type="radio" name="cap" value="unlimited" checked /> Unlimited</label>
                <label><input type="radio" name="cap" value="fixed" /> Limited</label>
              </div>
              <div id="cap-field" class="field" hidden>
                <input type="number" id="create-evt-cap" min="1" max="9999" placeholder="Max teams" />
                <small class="hint">If fixed, enter a positive number.</small>
              </div>
            </div>
            <label class="field">
              <span>Tags (up to 2)</span>
              <input type="text" id="create-evt-tags" placeholder="e.g., AMA, Research" />
              <small class="hint">Comma‑separated, up to 2 keywords.</small>
            </label>
            <div class="segmented" style="gap:10px; flex-wrap:wrap; margin: 10px 0;">
              <label class="field" style="min-width:220px;">
                <span>Start Date</span>
                <input type="date" id="create-evt-start" />
              </label>
              <label class="field" style="min-width:220px;">
                <span>End Date</span>
                <input type="date" id="create-evt-end" />
              </label>
            </div>
            <div class="modal-actions">
              <button type="button" class="btn" data-close-modal="modal-create-event">Cancel</button>
              <button type="submit" class="btn primary">Create Event</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Join Private Modal -->
    <div id="modal-join" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-dialog">
        <div class="modal-header">
          <h3>Join Private Team</h3>
          <button class="icon-btn" data-close-modal="modal-join" aria-label="Close">✕</button>
        </div>
        <div class="modal-body">
          <form id="form-join-private" autocomplete="off">
            <p class="subtle">Enter the team’s join code.</p>
            <label class="field">
              <span>Join Code (8–12 chars)</span>
              <input type="text" id="join-code" minlength="8" maxlength="12" required />
            </label>
            <div class="modal-actions">
              <button type="button" class="btn" data-close-modal="modal-join">Cancel</button>
              <button type="submit" class="btn primary">Join Team</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <!-- Load app logic from /prototype -->
    <script src="/prototype/app.f8c1.js"></script>
    <script>
      // If no hash route specified, the app's router defaults to "/events".
      // Ensure hash exists on first load for consistency.
      if (!location.hash) { location.hash = '#/events'; }
    </script>
  </body>
</html> 